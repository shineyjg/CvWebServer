webpackJsonp([4],{EzW9:function(e,t){},NHnr:function(e,t,n){"use strict";function c(e){n("mFld")}function i(e){n("iqi3")}function a(e){n("TxF8")}function s(e){n("EzW9")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),r={name:"app"},l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},u=[],m={render:l,staticRenderFns:u},d=m,f=n("VU/8"),g=c,p=f(r,d,!1,g,null,null),v=p.exports,h=n("zL8q"),z=n.n(h),F=(n("tvR6"),n("/ocq")),x={data:function(){return{}}},_=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},M=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index"},[n("p",[e._v("欢迎来到CV实验室")])])}],U={render:_,staticRenderFns:M},R=U,S=n("VU/8"),b=i,A=S(x,R,!1,b,"data-v-555a829e",null),I=A.exports,w={data:function(){return{}},methods:{handleSelect:function(e,t){console.log(e,t)}}},E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-menu",{staticClass:"el-menu",attrs:{"default-active":"/",mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:""},on:{select:e.handleSelect}},[n("span",{attrs:{id:"logo"}},[n("i",{staticClass:"el-icon-view"}),e._v("\n      CV实验室  \n      "),n("i",{staticClass:"el-icon-d-arrow-right"})]),e._v(" "),n("el-menu-item",{attrs:{index:"/face/compare"}},[e._v("人脸对比")]),e._v(" "),n("el-menu-item",{attrs:{index:"/face/detect"}},[e._v("人脸检测")]),e._v(" "),n("el-menu-item",{attrs:{index:"/plate/recog"}},[e._v("车牌识别")])],1)],1)},y=[],C={render:E,staticRenderFns:y},T=C,V=n("VU/8"),N=a,$=V(w,T,!1,N,null,null),q=$.exports,L={components:{NavBar:q}},P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("nav-bar"),e._v(" "),n("router-view")],1)},W=[],O={render:P,staticRenderFns:W},j=O,k=n("VU/8"),D=s,H=k(L,j,!1,D,"data-v-2acb9b29",null),B=H.exports;o.default.use(F.a);var J,Y,G,K=new F.a({routes:[{path:"/",redirect:"/index",component:B,children:[{path:"/index",component:I}]},{path:"/face",name:"face",component:B,children:[{path:"compare",component:function(e){return n.e(0).then(function(){var t=[n("Rpmf")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"detect",component:function(e){return n.e(2).then(function(){var t=[n("ENvP")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]},{path:"/plate",name:"plate",component:B,children:[{path:"recog",component:function(e){return n.e(1).then(function(){var t=[n("djMT")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]}]}),Q=n("NYxO"),X={serverAddr:""},Z={namespaced:!0,state:X},ee=n("mtWM"),te=n.n(ee),ne={faceUploadUrl:"/faces/upload"},ce={faceUploadAction:function(e,t,n){return n.config.serverAddr+e.faceUploadUrl}},ie={namespaced:!0,state:ne,getters:ce},ae=n("bOdI"),se=n.n(ae),oe={msg:"",imageUrl:"",rects:[],size:{}},re={detect:function(e,t){var n=e.commit,c=(e.state,e.rootState),i=c.config.serverAddr;te.a.get(i+"/faces/detect",{params:{imgFile:t}}).then(function(e){return e=e.data,console.log("success",e),0!=e.status?void n("clear"):0==e.faces?(n("clear"),void n("setMsg","未检测到人脸")):(n("setMsg",""),n("setImageUrl",i+e.detectUrl),n("setRects",e.rects),void n("setSize",e.size))}).catch(function(e){console.log("vuex detector axios except",e),n("clear"),n("setMsg","网络异常, 请稍后再试")})}},le=(J={},se()(J,"clear",function(e){e.msg="",e.imageUrl="",e.rects=[],e.size={}}),se()(J,"setMsg",function(e,t){e.msg=t}),se()(J,"setImageUrl",function(e,t){e.imageUrl=t}),se()(J,"setRects",function(e,t){e.rects=t}),se()(J,"setSize",function(e,t){e.size=t}),J),ue={namespaced:!0,state:oe,actions:re,mutations:le},me={loading:!1,distance:0,msg:"",time:"",size1:{},rect1:[],size2:{},rect2:[],imgFile1:"",imgFile2:""},de={onImgFile1:function(e,t){var n=e.commit,c=e.state;n("clear"),n("setSizeRect",{size1:{},rect1:[],size2:c.size2,rect2:c.rect2}),n("setImgFile1",t)},onImgFile2:function(e,t){var n=e.commit,c=e.state;n("clear"),n("setSizeRect",{size1:c.size1,rect1:c.rect1,size2:{},rect2:[]}),n("setImgFile2",t)},compare:function(e){var t=e.commit,n=e.state,c=e.rootState;if(console.log("compare",n.imgFile1,n.imgFile2),""==n.imgFile1||""==n.imgFile2)return void t("setMsg","请先上传两张图片再进行比对");t("clear"),t("setLoading",!0),te.a.get(c.config.serverAddr+"/faces/compare",{params:{imgFile1:n.imgFile1,imgFile2:n.imgFile2}}).then(function(e){if(e=e.data,console.log("vuex comparator compare axios result: ",e),t("setLoading",!1),0!=e.status)return t("clear"),void t("setMsg",e.msg);t("setDistance",e.distance.toFixed(2)),t("setMsg",e.msg),t("setTime",e.time.toFixed(2)),t("setSizeRect",{size1:e.size1,rect1:e.rect1,size2:e.size2,rect2:e.rect2})}).catch(function(e){console.log("vuex comparator compare axios exception",e),t("clear"),t("setMsg","网络异常, 请稍后再试")})}},fe=(Y={},se()(Y,"clear",function(e){e.distance=0,e.msg="",e.time=0,e.loading=!1}),se()(Y,"setLoading",function(e,t){e.loading=t}),se()(Y,"setMsg",function(e,t){e.msg=t}),se()(Y,"setDistance",function(e,t){e.distance=t}),se()(Y,"setTime",function(e,t){e.time=t}),se()(Y,"setImgFile1",function(e,t){e.imgFile1=t}),se()(Y,"setImgFile2",function(e,t){e.imgFile2=t}),se()(Y,"setSizeRect",function(e,t){var n=t.size1,c=t.rect1,i=t.size2,a=t.rect2;e.size1=n,c instanceof Array?e.rect1=c:e.rect1=[c],e.size2=i,a instanceof Array?e.rect2=a:e.rect2=[a]}),Y),ge={namespaced:!0,state:me,actions:de,mutations:fe},pe={msg:"",plates:[]},ve={recog:function(e,t){var n=e.commit,c=(e.state,e.rootState),i=c.config.serverAddr;te.a.get(i+"/plates/recog",{params:{imgFile:t}}).then(function(e){if(e=e.data,console.log("success",e),0!=e.status)return n("clear"),void n("setMsg",e.msg);n("setPlates",e.plates),n("setMsg","")}).catch(function(e){console.log("vuex detector axios except",e),n("clear"),n("setMsg","网络异常, 请稍后再试")})}},he=(G={},se()(G,"clear",function(e){e.msg="",e.plates=[]}),se()(G,"setMsg",function(e,t){e.msg=t}),se()(G,"setPlates",function(e,t){e.plates=t}),G),ze={namespaced:!0,state:pe,actions:ve,mutations:he};o.default.use(Q.a);var Fe=new Q.a.Store({modules:{config:Z,uploader:ie,detector:ue,comparator:ge,plate:ze},strict:!1});o.default.use(z.a),o.default.config.productionTip=!1,new o.default({el:"#app",store:Fe,router:K,template:"<App/>",components:{App:v}})},TxF8:function(e,t){},iqi3:function(e,t){},mFld:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c8dc19505ec1322e18eb.js.map