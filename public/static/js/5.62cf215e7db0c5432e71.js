webpackJsonp([5],{"A/nc":function(e,n,t){n=e.exports=t("FZ+f")(!0),n.push([e.i,"\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  /* width: 178px; */\n  /* height: 178px; */\n  min-width: 178px;\n  min-height: 178px;\n  max-width: 400px;\n  max-height: 400px;\n  display: block;\n}\n.rect {\n  position: absolute;\n}\n\n","",{version:3,sources:["/Users/yangjianguang/workspace/CvFrontend/src/components/Upload.vue"],names:[],mappings:";AACA;EACE,2BAA2B;EAC3B,mBAAmB;EACnB,gBAAgB;EAChB,mBAAmB;EACnB,iBAAiB;CAClB;AACD;EACE,sBAAsB;CACvB;AACD;EACE,gBAAgB;EAChB,eAAe;EACf,aAAa;EACb,cAAc;EACd,mBAAmB;EACnB,mBAAmB;CACpB;AACD;EACE,mBAAmB;EACnB,oBAAoB;EACpB,iBAAiB;EACjB,kBAAkB;EAClB,iBAAiB;EACjB,kBAAkB;EAClB,eAAe;CAChB;AACD;EACE,mBAAmB;CACpB",file:"Upload.vue",sourcesContent:["\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  /* width: 178px; */\n  /* height: 178px; */\n  min-width: 178px;\n  min-height: 178px;\n  max-width: 400px;\n  max-height: 400px;\n  display: block;\n}\n.rect {\n  position: absolute;\n}\n\n"],sourceRoot:""}])},dOGK:function(e,n,t){var r=t("A/nc");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("358057a6",r,!0)},"jd+X":function(e,n,t){"use strict";function r(e){t("dOGK")}Object.defineProperty(n,"__esModule",{value:!0});var i=t("Dd8w"),a=t.n(i),o=t("NYxO"),s={data:function(){return{localUrl:""}},props:{imgFileTarget:String,rects:{type:Array,default:function(){return[]}},size:{type:Object,default:function(){return{}}}},computed:a()({},Object(o.c)("uploader",["faceUploadAction"])),directives:{run:function(e,n){"function"==typeof n.value&&n.value(e)}},methods:{register:function(){var e=this;return function(n){e.img=n}},rectStyle:function(e){if(!("img"in this))return void console.log("no img in Upload.vue");var n=this.img.width/this.size.width,t=this.img.height/this.size.height;return"position: absolute;border: 2px solid red; left: "+e.left*n+"px; top: "+e.top*t+"px; width: "+(e.right-e.left)*n+"px; height: "+(e.bottom-e.top)*t+"px;"},handleAvatarSuccess:function(e,n){console.log("handleAvatarSuccess:",e,n.raw),this.localUrl=URL.createObjectURL(n.raw),this.$store.dispatch(this.imgFileTarget,e.imgFile)},handleError:function(e,n){this.localUrl="",this.$store.dispatch(this.imgFileTarget,"")},beforeAvatarUpload:function(e){var n="image/jpeg"===e.type||"image/png"===e.type,t=e.size/1024/1024<10;return n?!!t||(this.$message.error("上传头像图片大小不能超过 2MB!"),!1):(this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),!1)}}},l=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("el-upload",{staticClass:"avatar-uploader",attrs:{name:"facefile",action:e.faceUploadAction,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleError,"before-upload":e.beforeAvatarUpload}},[e.localUrl?t("div",[t("img",{directives:[{name:"run",rawName:"v-run",value:e.register(),expression:"register()"}],staticClass:"avatar",attrs:{src:e.localUrl}}),e._v(" "),e._l(e.rects,function(n){return t("span",{style:e.rectStyle(n)})})],2):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)},p=[],c={render:l,staticRenderFns:p},d=c,A=t("VU/8"),u=r,h=A(s,d,!1,u,null,null);n.default=h.exports}});
//# sourceMappingURL=5.62cf215e7db0c5432e71.js.map